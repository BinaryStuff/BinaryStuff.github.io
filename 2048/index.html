<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>2048</title>
    <link rel="stylesheet" href="style.css" />
    <script src="app.js" charset="utf-8"></script>
  </head>
  <body>
    <div class="container">
      <div class="info">
        <h1>2048</h1>
        <div class="score-container">
          <div class="score-title">score</div>
          <span id="score">0</span>
        </div>
      </div>
      <span id="result">Dev High Score is <b>3228</b> good luck!</span>
      <div class="grid"></div>
    </div>
    <!-- AI Control Button Styles (CSS) -->
<style>
    button {
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
    }

    #ai-buttons {
        display: none; /* Initially hidden */
    }
</style>

<!-- AI Control Buttons (HTML) -->
<div id="ai-buttons">
    <button onclick="startAI()">Start AI</button>
    <button onclick="stopAI()">Stop AI</button>
</div>

<!-- JavaScript Logic for AI -->
<script>
    // Function to simulate keypress events for your game
    function simulateKeypress(keyCode) {
        const event = new KeyboardEvent('keydown', {
            keyCode: keyCode,
            which: keyCode,
            bubbles: true
        });
        document.dispatchEvent(event);
    }

    // Define key codes for arrow keys
    const UP = 38;
    const DOWN = 40;
    const LEFT = 37;
    const RIGHT = 39;

    // Simulate random moves for 2048
    function simulateRandomMove() {
        const moves = [UP, DOWN, LEFT, RIGHT];
        const randomMove = moves[Math.floor(Math.random() * moves.length)];
        simulateKeypress(randomMove);
    }

    // Basic AI loop that makes random moves every second
    let aiInterval;
    function startAI() {
        aiInterval = setInterval(simulateRandomMove, 1000); // Simulate a move every second
        console.log('AI started');
    }

    function stopAI() {
        clearInterval(aiInterval);
        console.log('AI stopped');
    }

    // Function to toggle the visibility of the AI buttons when 'L' is pressed
    function toggleAIButtonsVisibility() {
        const buttons = document.getElementById('ai-buttons');
        if (buttons.style.display === 'none' || buttons.style.display === '') {
            buttons.style.display = 'block';
        } else {
            buttons.style.display = 'none';
        }
    }

    // Event listener for the 'L' key to toggle the AI buttons
    document.addEventListener('keydown', function(event) {
        if (event.key === 'l' || event.key === 'L') {
            toggleAIButtonsVisibility();
        }
    });
</script>
  </body>
  <!--The JS-->
  <script
    src="https://kit.fontawesome.com/7b89acb6a8.js"
    crossorigin="anonymous"
  ></script>

  <!--The CSS-->
  <p>
    <a href="../index.html"
      ><span
        style="
          font-size: 4em;
          color: #f00000;
          padding: 10px;
          position: absolute;
          right: 20px;
          bottom: 20px;
        "
      >
        <i class="fa-solid fa-house"></i> </span
    ></a>
  </p>
</html>
